---
// src/components/EsteticaPromotion.astro

export interface Props {
  id?: string;
  title?: string;
  badge?: string;
  price?: string;
  oldPrice?: string;
  description?: string;
  ctaText?: string;
  ctaHref?: string;
  class?: string;
}

const {
  id = "promocao",
  title = "Promoção de Inauguração",
  badge = "Vagas Limitadas!",
  price = "R$120",
  oldPrice = "R$180",
  description =
    "Garanta sua limpeza de pele profunda por um preço especial. Atendimentos apenas com agendamento. Poucas vagas disponíveis por dia.",
  ctaText = "Quero reservar minha vaga com preço promocional!",
  ctaHref = "https://wa.me/5585991803476",
  class: className = "",
} = Astro.props;
---

<section
  id={id}
  class={`relative text-center py-16 md:py-20 ${className}`}
  style="background: var(--grad-estetica-header);"
>
  <div class="mx-auto w-[90%] max-w-[700px] text-[color:var(--color-estetica-white)]">
    <h2 class="text-3xl md:text-4xl font-bold tracking-tight [text-shadow:0_2px_4px_rgba(0,0,0,0.2)]">
      {title}
    </h2>

    {badge && (
      <p class="mt-2 text-lg md:text-xl text-[color:var(--color-estetica-white)]/95">
        {badge}
      </p>
    )}

    <div class="mt-6 flex items-end justify-center gap-3 [text-shadow:0_2px_4px_rgba(0,0,0,0.2)]">
      <span class="text-5xl md:text-6xl font-extrabold">{price}</span>
      {oldPrice && (
        <small class="mb-2 text-lg md:text-xl line-through text-[color:var(--color-estetica-white)]/75">
          {oldPrice}
        </small>
      )}
    </div>

    <p class="mt-6 text-base md:text-lg text-[color:var(--color-estetica-white)]/95 max-w-prose mx-auto">
      {description}
    </p>

    <div class="flex justify-center mt-7">
      <a
        href={ctaHref}
        target="_blank"
        rel="noopener noreferrer"
        class="rounded-full font-semibold
           w-full sm:w-auto text-center
           px-5 py-2.5 md:px-8 md:py-3
           text-sm md:text-base leading-tight
           whitespace-normal sm:whitespace-nowrap break-words
           border-2 border-[color:var(--color-estetica-secondary)]
           bg-[color:var(--color-estetica-secondary)]
           text-[color:var(--color-estetica-white)]
           shadow-[0_4px_12px_rgba(0,0,0,0.15)]
           transition-all duration-300
           hover:-translate-y-[3px]
           hover:bg-transparent
           hover:shadow-[0_6px_15px_rgba(0,0,0,0.2)]
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/40"
        aria-label={ctaText}
      >
        {ctaText}
      </a>
    </div>
  </div>

  <div aria-hidden="true" class="pointer-events-none absolute inset-x-0 top-0 h-16 bg-gradient-to-b from-black/10 to-transparent"></div>
  <div aria-hidden="true" class="pointer-events-none absolute inset-x-0 bottom-0 h-16 bg-gradient-to-t from-black/10 to-transparent"></div>
</section>
